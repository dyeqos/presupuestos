"use strict";(self.webpackChunkpresupuestoFrontend=self.webpackChunkpresupuestoFrontend||[]).push([[44],{2044:(W,h,a)=>{a.r(h),a.d(h,{MovimientosModule:()=>X});var g=a(9808),x=a(2835),Z=a(1083),t=a(5e3),l=a(9224);let A=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-egresos"]],decls:10,vars:0,consts:[[1,"pt-5","pb-3","mat-elevation-z8"],[1,"fw-bold","fs-1"],[1,"mt-4"]],template:function(o,r){1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"h1",1),t._uU(4,"BIENVENIDO"),t._UZ(5,"br"),t._uU(6," DE NUEVO "),t.qZA()()(),t.TgZ(7,"mat-card-content",2)(8,"p"),t._uU(9,"egresos works!"),t.qZA()()())},dependencies:[l.a8,l.dk,l.dn,l.n5],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;text-align:left}"]}),e})();var i=a(3075),U=a(5439),v=a(9069),M=a(5626),T=a(520),I=a(2340),R=a(6518);let Y=(()=>{class e{constructor(o,r){this.http=o,this.authService=r,this.baseUrl=I.N.baseUrl}postMovimientoIngreso(o){const r=`${this.baseUrl}/movimientos/ingreso`,s=(new T.WM).set("x-token",this.authService.token);return this.http.post(r,o,{headers:s})}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(T.eN),t.LFG(R.e))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=a(7261),C=a(7423),m=a(6856),N=a(2349),c=a(7322),q=a(7531),_=a(4107),b=a(508);function D(e,n){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.uid),t.xp6(1),t.lnq(" ",o.banco.nombre,": ",o.descripcion," N\xb0 ",o.numero_cuenta," ")}}function F(e,n){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.nombre),t.xp6(1),t.hij(" ",o.nombre," ")}}let k=(()=>{class e{constructor(o,r,s,d,f){this.fb=o,this.cs=r,this.ps=s,this.ms=d,this._snackBar=f,this.date=new Date,this.formIngreso=this.fb.group({fecha:[{value:this.date,disabled:!0},[i.kI.required]],cuenta:["",[i.kI.required]],ingreso:["",[i.kI.required]],detalle:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(150)]],unitario:["",[i.kI.required,i.kI.min(1)]]})}ngOnInit(){this.listarCuentas(),this.listarTiposIngresos()}listarCuentas(){this.cs.getMisCuentas().subscribe(o=>{this.numeroCuenta=!0===o.ok?o.data:[]})}listarTiposIngresos(){this.ps.getTiposIngresos().subscribe(o=>{this.ingresos=!0===o.ok?o.data:[]})}guardarIngreso(o){this.formIngreso.invalid?this.formIngreso.markAllAsTouched():(this.ingreso={fecha_compra:U(this.formIngreso.controls.fecha.value).format("YYYY-MM-DD"),cuenta:this.formIngreso.controls.cuenta.value,lugar_compra:this.formIngreso.controls.detalle.value.trim().toUpperCase(),nombre:this.formIngreso.controls.ingreso.value.trim().toUpperCase(),detalle:this.formIngreso.controls.detalle.value.trim().toUpperCase(),unitario:this.formIngreso.controls.unitario.value},this.ms.postMovimientoIngreso(this.ingreso).subscribe(r=>{!0===r.ok?(this.abrirSnackBar("Registro Exitoso"),this.formIngreso.reset(),o.resetForm()):this.abrirSnackBar("Error al Registrar")}))}abrirSnackBar(o){this._snackBar.open(o.toString(),"Aceptar",{horizontalPosition:"end",verticalPosition:"top",duration:1500})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(v.S),t.Y36(M.u),t.Y36(Y),t.Y36(y.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-ingresos"]],decls:54,vars:5,consts:[[1,"pt-5","pb-3","mat-elevation-z8"],["autocomplete","off",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","fill"],["matInput","","formControlName","fecha",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["dp3",""],["formControlName","cuenta"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ingreso"],["matInput","","formControlName","detalle"],["appearance","fill","floatLabel","always"],["matInput","","type","number","placeholder","0","formControlName","unitario",1,"example-right-align"],["matPrefix",""],["matSuffix",""],["mat-raised-button","","color","primary","type","submit"],[3,"value"]],template:function(o,r){if(1&o){const s=t.EpF();t.TgZ(0,"mat-card",0)(1,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(s);const f=t.MAs(2);return t.KtG(r.guardarIngreso(f))}),t.TgZ(3,"mat-card-header")(4,"mat-card-title"),t._uU(5,"Ingreso"),t.qZA(),t.TgZ(6,"mat-card-subtitle"),t._uU(7,"Nuevo"),t.qZA()(),t.TgZ(8,"mat-dialog-content")(9,"mat-card-content")(10,"mat-form-field",3)(11,"mat-label"),t._uU(12,"Fecha"),t.qZA(),t._UZ(13,"input",4),t.TgZ(14,"mat-hint"),t._uU(15,"DD/MM/YYYY"),t.qZA(),t._UZ(16,"mat-datepicker-toggle",5)(17,"mat-datepicker",6,7),t.TgZ(19,"mat-error"),t._uU(20," Revise la fecha "),t.qZA()(),t.TgZ(21,"mat-form-field",3)(22,"mat-label"),t._uU(23,"N\xfamero de Cuenta"),t.qZA(),t.TgZ(24,"mat-select",8),t.YNc(25,D,2,4,"mat-option",9),t.qZA(),t.TgZ(26,"mat-error"),t._uU(27," Revise el N\xfamero de cuenta "),t.qZA()(),t.TgZ(28,"mat-form-field",3)(29,"mat-label"),t._uU(30,"Motivo Ingreso"),t.qZA(),t.TgZ(31,"mat-select",10),t.YNc(32,F,2,2,"mat-option",9),t.qZA(),t.TgZ(33,"mat-error"),t._uU(34," Revise el Motivo "),t.qZA()(),t.TgZ(35,"mat-form-field",3)(36,"mat-label"),t._uU(37,"Descripci\xf3n Ingreso"),t.qZA(),t._UZ(38,"input",11),t.TgZ(39,"mat-error"),t._uU(40," Revise la Descripci\xf3n "),t.qZA()(),t.TgZ(41,"mat-form-field",12)(42,"mat-label"),t._uU(43,"Monto Ingreso"),t.qZA(),t._UZ(44,"input",13),t.TgZ(45,"span",14),t._uU(46,"Bs.\xa0"),t.qZA(),t.TgZ(47,"span",15),t._uU(48,".00"),t.qZA(),t.TgZ(49,"mat-error"),t._uU(50," Revise el Monto del Ingreso "),t.qZA()()()(),t.TgZ(51,"mat-card-actions")(52,"button",16),t._uU(53,"Guardar"),t.qZA()()()()}if(2&o){const s=t.MAs(18);t.xp6(1),t.Q6J("formGroup",r.formIngreso),t.xp6(12),t.Q6J("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(9),t.Q6J("ngForOf",r.numeroCuenta),t.xp6(7),t.Q6J("ngForOf",r.ingresos)}},dependencies:[g.sg,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,C.lW,l.a8,l.dk,l.dn,l.n5,l.$j,l.hq,m.Mq,m.hl,m.nW,N.xY,c.TO,c.KE,c.bx,c.hX,c.qo,c.R9,q.Nt,_.gD,b.ey],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin-top:50px;text-align:left}mat-form-field[_ngcontent-%COMP%]{display:block;margin-top:10px}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})();var u=a(288),O=a(5245),p=a(4999);function S(e,n){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.uid),t.xp6(1),t.lnq(" ",o.banco.nombre,": ",o.descripcion," N\xb0 ",o.numero_cuenta," ")}}function J(e,n){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.id),t.xp6(1),t.hij(" ",o.descripcion," ")}}function E(e,n){1&e&&(t.TgZ(0,"th",30),t._uU(1," FECHA "),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.fecha)}}function Q(e,n){1&e&&(t.TgZ(0,"th",30),t._uU(1," N\xb0 DE movimiento "),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.numero_cuenta," ")}}function z(e,n){1&e&&(t.TgZ(0,"th",30),t._uU(1," OPCIONES "),t.qZA())}function w(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",31)(1,"button",32),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.detalle())}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",33),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.revertir())}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function G(e,n){1&e&&t._UZ(0,"tr",34)}function H(e,n){1&e&&t._UZ(0,"tr",35)}function L(e,n){if(1&e&&(t.TgZ(0,"table",22),t.ynx(1,23),t.YNc(2,E,2,0,"th",24),t.YNc(3,B,2,1,"td",25),t.BQk(),t.ynx(4,26),t.YNc(5,Q,2,0,"th",24),t.YNc(6,P,2,1,"td",25),t.BQk(),t.ynx(7,27),t.YNc(8,z,2,0,"th",24),t.YNc(9,w,7,0,"td",25),t.BQk(),t.YNc(10,G,1,0,"tr",28),t.YNc(11,H,1,0,"tr",29),t.qZA()),2&e){const o=t.oxw();t.Q6J("dataSource",o.movimientosList),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayHeader),t.xp6(1),t.Q6J("matRowDefColumns",o.displayHeader)}}function j(e,n){1&e&&(t.TgZ(0,"div",36),t._uU(1," Agrege activos para ser cotizados...\n"),t.qZA())}const $=[{path:"",children:[{path:"",component:(()=>{class e{constructor(o){this.cs=o,this.displayHeader=["fecha","numero_cuenta","opcion"],this.movimientosList=[{fecha:"10-10-2022",numero_cuenta:"1123123"}],this.tipoMovimientos=[{id:1,descripcion:"INGRESOS"},{id:2,descripcion:"EGRESOS"}]}ngOnInit(){this.listarCuentas()}detalle(){}revertir(){}listarCuentas(){this.cs.getMisCuentas().subscribe(o=>{this.numeroCuenta=!0===o.ok?o.data:[]})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(v.S))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-reportes"]],decls:50,vars:6,consts:[[1,"row"],[1,"col"],[1,"titulo"],["multi","",1,"acordion-header"],["appearance","fill",1,"correccionError"],["formControlName","cuenta"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"example-form-field"],[3,"rangePicker"],["matStartDate","","placeholder","Fecha Inicio"],["matEndDate","","placeholder","Fecha Fin"],["matSuffix","",3,"for"],["rangePicker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply",""],["appearance","fill"],["mat-raised-button","","color","primary","disabled","true"],["mat-button","","color","primary","disabled","true"],["mat-table","","class","mat-elevation-z8 matTable",3,"dataSource",4,"ngIf","ngIfElse"],["class","example-list"],["movimientosVacio",""],[3,"value"],["mat-table","",1,"mat-elevation-z8","matTable",3,"dataSource"],["matColumnDef","fecha"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","numero_cuenta"],["matColumnDef","opcion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","disabled","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""],[1,"example-box"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"mat-icon",2),t._uU(4,"credit_card"),t.qZA(),t.TgZ(5,"span"),t._uU(6," Reportes "),t.qZA()()()(),t.TgZ(7,"mat-accordion",3)(8,"mat-expansion-panel")(9,"mat-expansion-panel-header")(10,"mat-panel-title"),t._uU(11," Filtrar "),t.qZA(),t.TgZ(12,"mat-panel-description"),t._uU(13," Buscar movimientos de cuentas "),t.TgZ(14,"mat-icon"),t._uU(15,"search"),t.qZA()()(),t.TgZ(16,"mat-form-field",4)(17,"mat-label"),t._uU(18,"N\xfamero de Cuenta"),t.qZA(),t.TgZ(19,"mat-select",5),t.YNc(20,S,2,4,"mat-option",6),t.qZA()(),t.TgZ(21,"mat-form-field",7)(22,"mat-label"),t._uU(23,"Rango de Fechas"),t.qZA(),t.TgZ(24,"mat-date-range-input",8),t._UZ(25,"input",9)(26,"input",10),t.qZA(),t.TgZ(27,"mat-hint"),t._uU(28,"DD/MM/YYYY \u2013 DD/MM/YYYY"),t.qZA(),t._UZ(29,"mat-datepicker-toggle",11),t.TgZ(30,"mat-date-range-picker",null,12)(32,"mat-date-range-picker-actions")(33,"button",13),t._uU(34,"Cancelar"),t.qZA(),t.TgZ(35,"button",14),t._uU(36,"Aceptar"),t.qZA()()()(),t.TgZ(37,"mat-form-field",15)(38,"mat-label"),t._uU(39,"Tipo de Movimiento"),t.qZA(),t.TgZ(40,"mat-select",5),t.YNc(41,J,2,2,"mat-option",6),t.qZA()(),t.TgZ(42,"button",16),t._uU(43," Buscar "),t.qZA(),t.TgZ(44,"button",17),t._uU(45," Restablecer "),t.qZA()()(),t._UZ(46,"br"),t.YNc(47,L,12,3,"table",18),t.YNc(48,j,2,0,"ng-template",19,20,t.W1O)),2&o){const s=t.MAs(31),d=t.MAs(49);t.xp6(20),t.Q6J("ngForOf",r.numeroCuenta),t.xp6(4),t.Q6J("rangePicker",s),t.xp6(5),t.Q6J("for",s),t.xp6(12),t.Q6J("ngForOf",r.tipoMovimientos),t.xp6(6),t.Q6J("ngIf",r.movimientosList&&r.movimientosList.length>0)("ngIfElse",d)}},dependencies:[g.sg,g.O5,i.JJ,i.u,C.lW,m.nW,m.wx,m.zY,m.By,m._g,m.M5,m.dp,m.DK,u.pp,u.ib,u.yz,u.yK,u.u4,c.KE,c.bx,c.hX,c.R9,O.Hw,_.gD,b.ey,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk],styles:[".acordion-header[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}mat-form-field[_ngcontent-%COMP%]{display:block;margin-top:3px}"]}),e})()},{path:"ingresos",component:k},{path:"egresos",component:A},{path:"**",redirectTo:""}]}];let K=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Z.Bz.forChild($),Z.Bz]}),e})(),X=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,i.UX,K,x.q]}),e})()}}]);